import e from"https://cdn.skypack.dev/soundfont-player";var o={keyz:"G3",keyx:"A3",keyc:"B3",keyv:"C4",keyb:"D4",keyn:"E4",keym:"F4",keyq:"G4",keyw:"A4",keye:"B4",keyr:"C5",keyt:"D5",keyy:"E5",keyu:"F5",keyi:"G5",keyo:"A5",keyp:"B5",keys:"G#3",keyd:"A#3",keyg:"C#4",keyh:"D#4",keyk:"F#4",keyl:"G#4","keyÃ±":"A#4",key5:"C#5",key6:"D#5",key8:"F#5",key9:"G#5",key0:"A#5"};const t=new AudioContext,c={soundfont:"FluidR3_GM"},n=new Audio("/cumbia.mp3"),r={};let s="piano",d=1,a=!1;const y=[{bgcolor:"#171e27",color:"#909eb4"},{bgcolor:"#c0beaf",color:"#4d1210"},{bgcolor:"#c02628",color:"#e17d75"},{bgcolor:"#becedd",color:"#6b799e"}];document.querySelectorAll(".colorButtons button").forEach(((e,o)=>{e.style.setProperty("--casio-bgcolor",y[o].bgcolor),e.style.setProperty("--casio-color",y[o].color),e.addEventListener("click",(()=>{document.body.style.setProperty("--casio-bgcolor",y[o].bgcolor),document.body.style.setProperty("--casio-color",y[o].color)}))}));const l={piano:"acoustic_grand_piano",fantasy:"lead_2_sawtooth",violin:"violin",flute:"flute"};for(const p of Object.entries(l)){const[o,n]=p;e.instrument(t,n,c).then((e=>{l[o]=e}))}const u=(e,o,c=6)=>{r[o]=l[e].start(o,t.currentTime,{duration:c,gain:d})},i=e=>{r[e].stop(),r[e]=null};document.querySelectorAll(".key").forEach((e=>{const o=e.dataset.note;e.addEventListener("mousedown",(()=>u(s,o))),e.addEventListener("mouseleave",(()=>r[o]&&i(o))),e.addEventListener("mouseup",(()=>r[o]&&i(o)))})),document.addEventListener("keydown",(e=>{const t=`key${e.key}`,c=o[t];if(!r[c]&&c){document.querySelector(`[data-note="${c}"]`).classList.add("active"),u(s,c)}})),document.addEventListener("keyup",(e=>{const t=`key${e.key}`,c=o[t];if(r[c]&&c){document.querySelector(`[data-note="${c}"]`).classList.remove("active"),i(c)}}));document.querySelectorAll(".tone input").forEach((e=>{e.addEventListener("click",(()=>{const o=e.id;s=String(o)}))}));document.querySelectorAll(".volume input").forEach((e=>{e.addEventListener("click",(()=>{const o=e.value;d=Number(o)}))}));const k=["#d81313","#eace17","#33ea12","#12eae3","#101eea","#ea10e3"],m=()=>{setTimeout((()=>{const e=k[~~(Math.random()*k.length)];document.body.classList.remove("dark"),document.body.style.setProperty("--body-color",e),a&&setTimeout((()=>m()),350)}),350)};document.querySelector("[data-type=demo").addEventListener("click",(()=>{n.paused?(a=!0,n.currentTime=0,n.play(),document.body.classList.add("dark"),setTimeout((()=>{const e=document.createElement("img");e.src="/thanos.png",e.className="thanos",document.body.appendChild(e)}),18e3),setTimeout((()=>{document.body.classList.add("party"),m()}),27e3)):(()=>{document.body.classList.remove("dark","party");const e=document.querySelector(".thanos");e&&e.remove(),a=!1,n.pause()})()}));
